"use strict";!function(){var e=0,n=!0,t=!1,r=!1,i=!1,o=document.querySelectorAll("audio"),c=void 0;function a(){var e=document.querySelector("#progressBarContainer").offsetWidth,n=document.querySelector("#timer").offsetWidth;document.querySelector("#songSlider").style.width=e-n+"px"}function d(t){var r,i,a,d,l,u,m,v,p,f,L,h;n=!1,s(t),o[t].play(),r="#trackNameContainer",i=o,a=t,setTimeout(function(){var e=document.querySelector(r),n=i[a].currentSrc;e.innerHTML=n.match(/[%-\.\w]*$/gi).join("").replace(/mp3|ogg|[^a-z]+/gi," ").toLowerCase(),e.innerHTML.length>50&&(e.innerHTML=e.innerHTML.slice(0,25)+" ...")},1),d=o,l=t,u="#timer",m=document.querySelector(u),(v=d[l]).addEventListener("timeupdate",function(){var e=(Math.floor(v.currentTime%60)<10?"0":"")+Math.floor(v.currentTime%60),n=Math.floor(v.currentTime/60);m.innerHTML=n+":"+e+" &#128337; "+Math.floor(v.duration/60)+":"+(Math.floor(v.duration%60)<10?"0":"")+Math.floor(v.duration%60)}),L="#songSlider",h="#trackProgress",(p=o)[f=t].addEventListener("timeupdate",function(){var e=p[f].currentTime/p[f].duration,n=document.querySelector(L),t=n.offsetWidth*e;document.querySelector(h).style.width=Math.round(t)+"px"}),c[t].className="newLiClassPlaying",c[t].innerHTML=c[t].innerHTML.replace(/▶/,"❚❚"),M.innerHTML="PAUSE",c[e].style.color=""}function l(){o[e].pause(),o[e].currentTime=0,i=!1,c[e].className="newLiClass",c[e].innerHTML=c[e].innerHTML.replace(/❚❚/,"▶ "),M.innerHTML="PLAY",c[e].style.color="#389c35"}function u(t,o){n||(l(),c[t].style.color="",e=t+1,t===o.length-1&&(e=0),r?v():d(e),i=!0)}function m(n){i?(o[e].pause(),c[e].className="newLiClass",c[e].style.color="#389c35",c[e].innerHTML=c[e].innerHTML.replace(/❚❚/,"▶"),M.innerHTML="PLAY"):(d(n),M.innerHTML="PAUSE"),i=!i}function s(e){t?(o[e].volume=0,g.id="muteActive"):(o[e].volume=1,g.id="mute")}function v(){if(r){l(),c[e].style.color="",e--;var n=Math.floor(Math.random()*(o.length-1));(e=e===n?n+=3:n)>o.length-1&&(e=Math.round(n/2)),d(e),h.id="randomActive"}else h.id="random";i=!0}!function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"true",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"block",o=document.querySelector(t);!function(e){var n=document.createElement("div");n.id="progressBarContainer",n.className="row";var t=document.createElement("div");t.id="songSlider",t.className="col-9";var r=document.createElement("div");r.id="trackProgress";var i=document.createElement("div");i.id="trackNameContainer";var o=document.createElement("div");o.id="timer",o.className="col-3",o.innerHTML="0:00 &#128337; 0:00",e.appendChild(n),n.appendChild(o),n.appendChild(t),t.appendChild(r),r.appendChild(i),a()}(o),function(e){var n=document.createElement("div");n.id="allButtonsHere",e.appendChild(n);var t=document.createElement("button");t.id="stop",t.className="btn btn-danger",t.innerHTML="STOP";var r=document.createElement("button");r.id="play",r.className="btn btn-success",r.innerHTML="PLAY";var i=document.createElement("button");i.id="back",i.className="btn btn-warning",i.innerHTML="BACK";var o=document.createElement("button");o.id="next",o.className="btn btn-warning",o.innerHTML="NEXT",n.appendChild(t),n.appendChild(i),n.appendChild(r),n.appendChild(o)}(o),function(e){var n=document.createElement("div");n.id="ContainerForAdvancedAudioControls";var t=document.createElement("div");t.id="random",t.className="btn";var r=document.createElement("div");r.id="muteActive",r.id="mute",r.className="btn",e.appendChild(n),n.appendChild(t),n.appendChild(r)}(o);var c=document.createElement("ul");c.id="ulForNewUiAudioElement";for(var d=function(t){e[t].controls=r,e[t].style.display=i;var o=document.createElement("li");o.className=n;var a=t+1;setTimeout(function(){var n=e[t].currentSrc;o.innerHTML="▶ "+a+". "+n.match(/[%-\.\w]*$/gi).join("").replace(/mp3|ogg|[^a-z]+/gi," ");var r=o.innerHTML.match(/[a-z]/i).join("").toUpperCase();o.innerHTML=o.innerHTML.replace(/[a-z]/i,r)},300),c.appendChild(o)},l=0;l<e.length;l++)d(l);o.appendChild(c)}(o,"newLiClass","#AudioPlayerByZloid",!1,"none"),function(n){c=document.querySelectorAll(n);for(var t=function(n){c[n].addEventListener("click",function(){n!=e?(l(),m(n)):m(e),e=n})},r=0;r<c.length;r++)t(r)}(".newLiClass");var p=document.querySelector("#stop"),f=document.querySelector("#back"),L=document.querySelector("#next"),h=document.querySelector("#random"),g=document.querySelector("#mute"),M=document.querySelector("#play"),T=document.querySelector("#songSlider");window.addEventListener("resize",function(){a()}),T.addEventListener("click",function(n){var t=T.offsetWidth,r=T.getBoundingClientRect();console.log("rect.left:",r.left);var i=n.clientX-r.left;console.log("clickLocationNum:",i);var c=i/t;o[e].currentTime=o[e].duration*c});for(var y=function(e){o[e].addEventListener("ended",function(){u(e,o)})},C=0;C<o.length;C++)y(C);p.onclick=l,L.addEventListener("click",function(){u(e,o)}),f.addEventListener("click",function(){var t;t=o,n||(l(),c[e].style.color="",--e<0&&(e=t.length-1),r?v():d(e),i=!0)}),M.addEventListener("click",function(){m(e)}),h.addEventListener("click",function(){r=!r,v()}),g.addEventListener("click",function(){t=!t,s(e)})}();